<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Gustavs piano-app</title>
    <script src="https://cdn.jsdelivr.net/npm/abcjs@6.0.0/dist/abcjs-basic-min.js"></script>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src='https://unpkg.com/react-router-dom@5.0.0/umd/react-router-dom.min.js'></script>
    <link href="style.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="app"></div>
    <script type="text/babel">
        const Link = ReactRouterDOM.Link
        const Route = ReactRouterDOM.Route

        const spanienSheetMusic = "X:1\n" +
        "L:1/4\n" +
        "K:C\n" +
        "| C D E2 | C D E2 | D D D D | C2 C2"

        const blinkaLillaStjarnaSheetMusic = "X:1\n" +
            "L:1/4\n" +
            "K:C\n" +
            "| C C G G | A A G2 | F F E E | D D C2 \n" +
            "| F F E E | D D C2 | F F E E | D D C2 \n" +
            "| C C G G | A A G2 | F F E E | D D C2";

        function SheetMusic({title, song}) {
            React.useEffect(() => {
                console.log()
                window.ABCJS.renderAbc('sheet-music', song, { scale: 2 });
            })

            return (
                <div>
                    <h1>{title}</h1>
                    <div id="sheet-music">{song}</div>
                </div>
            )
        }

        function HomePage() {
            return (
                <ReactRouterDOM.HashRouter>
                    <ul>
                        <li><Link to="/blinka-lilla-stjarna">Blinka lilla stjärna</Link></li>
                        <li><Link to="/spanien">Spanien</Link></li>
                    </ul>

                    <Route path="/blinka-lilla-stjarna" render={() => <SheetMusic title="Blinka lilla stjärna" song={blinkaLillaStjarnaSheetMusic} />} />
                    <Route path="/spanien" render={() => <SheetMusic title="Spanien" song={spanienSheetMusic} />} />
                </ReactRouterDOM.HashRouter>
            )
        }

        const appElement = document.getElementById('app');
        ReactDOM.render(<HomePage />, appElement);
    </script>
</body>
</html>